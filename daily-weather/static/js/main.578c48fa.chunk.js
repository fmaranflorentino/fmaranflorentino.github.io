(this["webpackJsonpdaily-wheater"]=this["webpackJsonpdaily-wheater"]||[]).push([[0],[,,,function(e,t,a){e.exports=a.p+"static/media/rain.5fcdec4d.svg"},,,,,,,,,,,,,,,function(e,t,a){e.exports=a.p+"static/media/error.b2c36c2a.svg"},,function(e,t,a){e.exports=a.p+"static/media/clouds.8e3fdc70.svg"},function(e,t,a){e.exports=a.p+"static/media/sun.849e970e.svg"},function(e,t,a){e.exports=a.p+"static/media/snowflake.c204fa6b.svg"},function(e,t,a){e.exports=a.p+"static/media/refresh.fa3ed0fe.svg"},function(e,t,a){e.exports=a.p+"static/media/storm.381339ec.svg"},function(e,t,a){e.exports=a.p+"static/media/place.d89527ca.svg"},,,,function(e,t,a){e.exports=a(61)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},,,,,,,,,,,,,,,,,,function(e,t,a){},function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(13),i=a.n(s),c=(a(34),function(e){return e.children}),o=(a(35),function(){return r.a.createElement("header",{className:"Header"},r.a.createElement("p",null,"Daily Wheater"))}),l=(a(36),function(e){return r.a.createElement(c,null,r.a.createElement(o,null),r.a.createElement("main",{className:"app-container"},e.children))}),u=a(26),m=a(14),h=a(15),d=a(27),f=a(16),v=a(2),p=a(28),E=a(17),g=a.n(E),b=(a(54),a(18)),w=a.n(b),q=function(e){return r.a.createElement(c,null,r.a.createElement("article",{className:"Error tada"},r.a.createElement("img",{width:"50",src:w.a,alt:"Error icon"}),r.a.createElement("p",null,e.message)))},y=(a(55),function(){return r.a.createElement("div",{className:"Loader"})}),N=a(19),k=a.n(N),W=(a(57),function(e){var t=["Button","small"===e.type?"sm":""];return r.a.createElement("button",{onClick:e.click,className:t.join(" ")},e.icon?r.a.createElement("img",{width:"20",src:e.icon,alt:e.text}):null,r.a.createElement("span",null,e.text))}),x=(a(58),a(20)),C=a.n(x),j=a(21),A=a.n(j),R=a(22),S=a.n(R),U=a(3),D=a.n(U),L=a(23),O=a.n(L),H=function(e){switch(e){case"Clouds":return C.a;case"Clear":return A.a;case"Snow":return S.a;case"Rain":case"Drizzle":case"Thunderstorm":return D.a;default:return e}},z=function(e){switch(e){case"Clouds":return"Nuvens";case"Rain":return"Chuva";case"Snow":return"Neve";case"Clear":return"Limpo";case"Drizzle":return"Chuvisco";case"Thunderstorm":return"Tempestade";case"broken clouds":return"Nuvens Quebradas";case"few clouds":return"Algumas Nuvens";case"scattered clouds":return"Nuvens Dispersas";case"overcast clouds":return"Nuvens Nubladas";case"light rain":return"Chuva Leve";case"moderate rain":return"Chuva Moderada";case"heavy intensity rain":case"very heavy rain":return"Chuva Pesada";case"clear sky":return"C\xe9u Limpo";default:return e}},P=function(e){var t=e.weather;if(t&&t.description&&e.show){var a=t.main,n=t.description,s=e.regionName,i=k()(e.lastUpdate).format("DD/MM/YY HH:mm:ss"),o=["weather-card",e.show?"enter":""];return r.a.createElement(c,null,r.a.createElement("article",{className:o.join(" ")},r.a.createElement("header",null,r.a.createElement("div",{className:"header-info"},r.a.createElement("img",{src:H(a),alt:a}),r.a.createElement("div",{className:"temperature"},r.a.createElement("p",null,"Tempo em ",r.a.createElement("strong",null,s,", ",t.country)),r.a.createElement("span",null,e.main.temp," \xb0C")))),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"infos"},r.a.createElement("h5",null,z(a)),r.a.createElement("p",null,z(n))),r.a.createElement("div",{className:"last-updates"},r.a.createElement("h5",null,"\xdaltima atualiza\xe7\xe3o:"),r.a.createElement("p",null,i))),r.a.createElement("div",{className:"card-footer"},r.a.createElement(W,{text:"Atualizar",type:"small",icon:O.a,click:e.refreshWeather}))))}},G=a(24),T=a.n(G),F=(a(59),function(e){var t=["no-content",e.initialAnimation?"activeNoContent":"",e.finishAnimation?"finish":"leaveActiveContent"];return r.a.createElement("section",null,r.a.createElement("div",{className:t.join(" ")},r.a.createElement("img",{width:"70",src:T.a,alt:"\xcdcone de tempestade"}),r.a.createElement("p",null,r.a.createElement("span",null,e.span)," ",e.message),r.a.createElement(W,{click:e.click,text:e.btnText,icon:e.btnIcon})))}),I=(a(60),a(25)),M=a.n(I),B=function(e){function t(){var e;return Object(m.a)(this,t),(e=Object(d.a)(this,Object(f.a)(t).call(this))).state={hasGeolocation:void 0,userDenied:!1,currentWeather:[],initialAnimation:!1,finishAnimation:!1,loadingRequest:!1,hasweater:!1,lastUpdate:null,requestParams:null},e.getUserGeolocationHandler=function(t){var a=t.coords.latitude,n={lon:t.coords.longitude,lat:a,APPID:"3cc15f29b5e1a6baec11ab23768ab424",units:"metric"};e.setState({hasGeolocation:!0,requestParams:n}),e.requestWeatherForescast(n)},e.requestUserLocation=e.requestUserLocation.bind(Object(v.a)(e)),e.getUserGeolocationHandler=e.getUserGeolocationHandler.bind(Object(v.a)(e)),e.userRequestLocationHandler=e.userRequestLocationHandler.bind(Object(v.a)(e)),e.requestWeatherForescast=e.requestWeatherForescast.bind(Object(v.a)(e)),e.refreshWeatherStatus=e.refreshWeatherStatus.bind(Object(v.a)(e)),e.setError=e.setError.bind(Object(v.a)(e)),e}return Object(p.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({initialAnimation:!0}),setTimeout((function(){e.setState({finishAnimation:!0})}),600)}},{key:"setError",value:function(e){this.setState({error:!0})}},{key:"userRequestLocationHandler",value:function(e){e&&1===e.code&&this.setState({userDenied:!0})}},{key:"requestUserLocation",value:function(e){navigator.geolocation&&navigator.geolocation.getCurrentPosition(this.getUserGeolocationHandler,this.userRequestLocationHandler)}},{key:"executeRequest",value:function(e){return new Promise((function(t,a){g.a.get("https://api.openweathermap.org/data/2.5/weather",{params:e}).then((function(e){t(e)})).catch((function(e){a(e)}))}))}},{key:"requestWeatherForescast",value:function(e){var t=this;this.setState({loadingRequest:!0}),this.executeRequest(e).then((function(e){var a=e.data,n=Object(u.a)(e.data.weather,1)[0];a.weather=n,n.country=e.data.sys.country;var r=(new Date).toString();t.setState({currentWeather:a,hasWeater:!0,loadingRequest:!1,lastUpdate:r})}))}},{key:"refreshWeatherStatus",value:function(){this.setState({loadingRequest:!0});var e=this.state.requestParams;this.requestWeatherForescast(e)}},{key:"render",value:function(){var e=r.a.createElement(c,null,r.a.createElement(F,{initialAnimation:this.state.initialAnimation,finishAnimation:this.state.finishAnimation,span:"opss!",message:"Precisamos de sua localiza\xe7\xe3o para iniciar!",btnText:"Ativar localiza\xe7\xe3o",btnIcon:M.a,click:this.requestUserLocation})),t=r.a.createElement(c,null,r.a.createElement(P,{weather:this.state.currentWeather.weather,regionName:this.state.currentWeather.name,lastUpdate:this.state.lastUpdate,show:this.state.hasGeolocation,main:this.state.currentWeather.main,refreshWeather:this.refreshWeatherStatus}));return this.state&&this.state.hasWeater&&!this.state.loadingRequest?t:this.state&&this.state.userDenied&&!this.state.loadingRequest?r.a.createElement(q,{message:"Voc\xea n\xe3o autorizou nossa aplica\xe7\xe3o acessar sua localiza\xe7\xe3o :/"}):this.state&&this.state.loadingRequest?r.a.createElement(y,null):e}}]),t}(n.Component);var J=function(){return r.a.createElement(c,null,r.a.createElement(l,null,r.a.createElement(B,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(J,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[29,1,2]]]);
//# sourceMappingURL=main.578c48fa.chunk.js.map